# mainly autogenerated by running 
# ziti create config router edge --routerName "test-edge-router"
v: 3

identity:
  cert:             "./test-edge-router.cert"
  server_cert:      "./test-edge-router.server.chain.cert"
  key:              "./test-edge-router.key"
  ca:               "./test-edge-router.cas"

ctrl:
  endpoint:             tls:127.0.0.1:6262

link:
  dialers:
    - binding: transport
  listeners:
    - binding:          transport
      bind:             tls:127.0.0.3:10080
      # if using macos: sudo ifconfig lo0 alias 127.0.0.3 up
      advertise:        tls:127.0.0.3:10080
      options:
        outQueueSize:   4

listeners:
# bindings of edge and tunnel requires an "edge" section below
  - binding: edge
    address: tls:0.0.0.0:3022
    options:
      advertise: 127.0.0.3:3022
      connectTimeoutMs: 5000
      getSessionTimeout: 60
  - binding: tunnel
    options:
      mode: host #tproxy|host



edge:
  csr:
    country: US
    province: LA
    locality: Los Angeles
    organization: MyBestOrg
    organizationalUnit: Openziti Public Edge Router
    sans:
      dns:
        - router.openziti.localdomain
      ip:
        - "127.0.0.3"


forwarder:
  latencyProbeInterval: 0
  xgressDialQueueLength: 1000
  xgressDialWorkerCount: 128
  linkDialQueueLength: 1000
  linkDialWorkerCount: 32

